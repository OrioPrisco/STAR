<!DOCTYPE html>
<html>
	<head>
		<!-- Recommended meta tags -->
		<meta charset="UTF-8">
		<!-- This script tag bootstraps PyScript -->
		<script type="module" src="https://pyscript.net/releases/2024.1.1/core.js"></script>

		<!-- for splashscreen -->
		<style>
			#loading { outline: none; border: none; background: transparent }
			html, body, .full_height { height : 100%; }
			textarea { height : 47%; width : 100%; }
			h1 { text-align : center; }
		</style>
		<script type="module">
			const loading = document.getElementById('loading');
			addEventListener('py:ready', () => loading.close());
			loading.showModal();
		</script>
	</head>
	<body>
		<dialog id="loading">
			<h1>Loading...</h1>
		</dialog>
		<h1>STAR: savefile tool for Star of Providence</h1>
		<div style="height:85%; width:90%; margin: auto">
			<section class="pyscript full_height" style="display:inline-block; width:100%;">
				<textarea id="input" ></textarea>
				<div>
					<button py-click="decode_gamesave">Decode gamesave</button>
					<button py-click="encode_json">Encode Json</button>
					<button onclick="
						{navigator.clipboard.writeText(document.querySelector('#output').value).then(
							function () {alert('Copied to clipboard !')}
						)}">
						Copy to clipboard
					</button>
				</div>
				<textarea id="output"></textarea>
				<script type="py" src="./main.py" config="./pyscript.toml"></script>
			</section>
		</div>
	</body>
</html>

